{"ast":null,"code":"import { APIService } from \"../apiService\";\nimport { StatusCode } from \"../../models/enums/StatusCodeEnum\";\nexport class PostService extends APIService {\n  constructor(...args) {\n    super(...args);\n    this.addPost = async (date, post) => {\n      const url = `${this.getBaseUrl()}/posts`;\n      const requestBody = {\n        ...post,\n        date: date\n      };\n      const response = await this.postData(url, requestBody);\n      if (response.status !== StatusCode.CREATED) {\n        await this.throwError(response);\n      }\n      return await response.json();\n    };\n    this.getAllPosts = async date => {\n      const url = `${this.getBaseUrl()}/posts?date=${date}`;\n      const response = await this.getData(url);\n      if (response.status !== StatusCode.SUCCESS) {\n        await this.throwError(response);\n      }\n      return await response.json();\n    };\n    this.getPostById = async (id, date) => {\n      const url = `${this.getBaseUrl()}/posts/${id}?date=${date}`;\n      const response = await this.getData(url);\n      if (response.status !== StatusCode.SUCCESS) {\n        await this.throwError(response);\n      }\n      return await response.json();\n    };\n    this.deletePostById = async (id, date) => {\n      const url = `${this.getBaseUrl()}/posts/delete/?${id}?date=${date}`;\n      alert('DeletePost By ID ' + date.toString());\n      const response = await this.deleteData(url);\n      if (response.status !== StatusCode.SUCCESS) {\n        await this.throwError(response);\n      }\n      return await response.json();\n    };\n    this.votedPostById = async (id, date, votes) => {\n      const url = `${this.getBaseUrl()}/posts/${id}`;\n      const requestBody = {\n        date: date,\n        votes: votes\n      };\n      const response = await this.patchData(url, requestBody);\n      if (response.status !== StatusCode.SUCCESS) {\n        await this.throwError(response);\n      }\n      return await response.json();\n    };\n  }\n}","map":{"version":3,"names":["APIService","StatusCode","PostService","constructor","args","addPost","date","post","url","getBaseUrl","requestBody","response","postData","status","CREATED","throwError","json","getAllPosts","getData","SUCCESS","getPostById","id","deletePostById","alert","toString","deleteData","votedPostById","votes","patchData"],"sources":["C:/miu-diary/cs472-project/daily-diary-front/src/services/post/postService.ts"],"sourcesContent":["import { Post } from \"../../models/Post\";\r\nimport { APIService } from \"../apiService\";\r\nimport { StatusCode } from \"../../models/enums/StatusCodeEnum\";\r\n\r\nexport class PostService extends APIService {\r\n    addPost = async (date: string, post: Post): Promise<Post> => {\r\n        const url: string = `${this.getBaseUrl()}/posts`;\r\n        const requestBody = {\r\n            ...post,\r\n            date: date,\r\n        };\r\n        const response: Response = await this.postData(url, requestBody);\r\n        if (response.status !== StatusCode.CREATED) {\r\n            await this.throwError(response);\r\n        }\r\n\r\n        return await response.json();\r\n    };\r\n\r\n    getAllPosts = async (date: string): Promise<Post[]> => {\r\n        const url: string = `${this.getBaseUrl()}/posts?date=${date}`;\r\n        const response: Response = await this.getData(url);\r\n        if (response.status !== StatusCode.SUCCESS) {\r\n            await this.throwError(response);\r\n        }\r\n\r\n        return await response.json();\r\n    };\r\n\r\n    getPostById = async (id: string, date: string): Promise<Post> => {\r\n        const url: string = `${this.getBaseUrl()}/posts/${id}?date=${date}`;        \r\n        const response: Response = await this.getData(url);\r\n        if (response.status !== StatusCode.SUCCESS) {\r\n            await this.throwError(response);\r\n        }\r\n        return await response.json();\r\n    };\r\n\r\n    deletePostById = async (id: string, date: string): Promise<Post> => {\r\n        const url: string = `${this.getBaseUrl()}/posts/delete/?${id}?date=${date}`;\r\n        alert('DeletePost By ID '+ date.toString())\r\n        const response: Response = await this.deleteData(url);\r\n        if (response.status !== StatusCode.SUCCESS) {\r\n            await this.throwError(response);\r\n        }\r\n        return await response.json();\r\n    };\r\n\r\n    votedPostById = async (\r\n        id: string,\r\n        date: string,\r\n        votes: number\r\n    ): Promise<Post> => {\r\n        const url: string = `${this.getBaseUrl()}/posts/${id}`;\r\n        const requestBody = {\r\n            date: date,\r\n            votes: votes,\r\n        };\r\n\r\n        const response: Response = await this.patchData(url, requestBody);\r\n\r\n        if (response.status !== StatusCode.SUCCESS) {\r\n            await this.throwError(response);\r\n        }\r\n        return await response.json();\r\n    };\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}